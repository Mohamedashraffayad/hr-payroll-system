#!/bin/bash

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "     ğŸ¢ Mido System - HR & Payroll Management"
echo "              ECGS Group Companies"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“Š System Information:"
echo "   â€¢ Database: mido_hr_database.db (280 KB)"
echo "   â€¢ Employees: 325 (anonymized)"
echo "   â€¢ Companies: ECGS + ECGS1-4"
echo "   â€¢ Payroll: Nov-Dec 2024"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸš€ Starting Mido System API Server..."
echo ""
echo "   Server URL: http://localhost:8000"
echo "   Frontend: Open mido_system.html in browser"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ‘¤ Login Credentials:"
echo ""
echo "   ADMINISTRATOR:"
echo "      Username: admin"
echo "      Password: admin123"
echo "      Access: Full system (all 325 employees)"
echo ""
echo "   EMPLOYEE:"
echo "      Username: employee1 to employee10"
echo "      Password: emp123"
echo "      Access: Personal reports only"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ” Quick Features:"
echo ""
echo "   ADMIN:"
echo "   â€¢ Search Employee by ID â†’ Generate Arabic Payslip"
echo "   â€¢ Payroll Reconciliation (Nov vs Dec 2024)"
echo "   â€¢ View 325 employees across ECGS companies"
echo "   â€¢ Download all reports as PDF"
echo ""
echo "   EMPLOYEE:"
echo "   â€¢ View My Arabic Payslip (Ø¨ÙŠØ§Ù† Ø§Ù„Ù…Ø±ØªØ¨ Ø§Ù„Ø´Ù‡Ø±ÙŠ)"
echo "   â€¢ Own data only - secure isolation"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“„ Report Formats:"
echo "   âœ… Arabic Payslip - Exact match to uploaded image"
echo "   âœ… Payroll Reconciliation - Exact match to uploaded image"
echo "   âœ… All reports: View on web OR Download PDF"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ¯ Employee Search:"
echo "   â€¢ By ID: EMP0011, EMP0012, etc."
echo "   â€¢ By Name: Employee 1, Employee 2, etc."
echo "   â€¢ Original IDs from Excel preserved in codes"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "â–¶ï¸  Press Ctrl+C to stop server"
echo ""

# Check if Python is available
if ! command -v python3 &> /dev/null; then
    echo "âŒ Error: Python 3 is required"
    echo "   Please install Python 3 and try again"
    exit 1
fi

# Check if database exists
if [ ! -f "mido_hr_database.db" ]; then
    echo "âŒ Error: Database not found"
    echo "   Please ensure mido_hr_database.db is in current directory"
    exit 1
fi

echo "ğŸš€ Starting server..."
echo ""

# Start the server
python3 mido_api_server.py
